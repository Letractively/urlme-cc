@model List<play.Site.Models.PlayOrder>

@{
    Layout = null;
}

<html>
    <head>
        @Scripts.Render("~/bundles/jquery")
        @Scripts.Render("~/bundles/jqueryui")
        @Scripts.Render("~/bundles/ihdavis")

        @Styles.Render("~/content/site.css")
        @Styles.Render("~/scripts/plugins/datatables/jquery-ui-1.7.2.custom.css")
        @Styles.Render("~/scripts/plugins/datatables/datatable_jui.css")
        
        @Scripts.Render("~/scripts/plugins/datatables/jquery.dataTables.min.js")

        <script>
            var toggleSeatedUrl = '/order/toggleseated';
        </script>
        @Scripts.Render("~/scripts/ihdavis.admin.index.js")
    </head>
    <body class="adminIndex">
        <h2>Admin</h2>
        <table id="orders">
            <thead>
                <tr>
                    <th>Order date</th>
                    <th>Play date</th>
                    <th>Name</th>
                    <th class="centerText">Couple / Indiv. Tix</th>
                    <th>Platform</th>
                    <th class="centerText">Paid?</th>
                    <th class="centerText">Seated?</th>
                    <th class="actions">Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var order in Model)
                {
                    <tr data-item-id="@order.PlayOrderId">
                        <td>@order.CreateDate.ToString("yyyy-MM-dd")</td>
                        <td>@order.PlayDate.ToString("yyyy-MM-dd")</td>
                        <td>@order.Name</td>
                        <td class="centerText">@order.CoupleTicketCount / @order.IndividualTicketCount</td>
                        <td>@order.Platform</td>
                        <td class="centerText">
                            @if (order.Status == "Paid")
                            {
                                <span class="active">✔</span>
                            }
                            else
                            {
                                <span class="inactive">✕</span>   
                            }
                        </td>
                        <td class="centerText seatedCell">
                            <span class="active @(order.Seated ? "" : "hidden")">✔</span>
                            <span class="inactive @(order.Seated ? "hidden" : "")">✕</span>
                        </td>
                        <td>
                            <a href="#" class="toggleSeated">Mark as <span class="stateText" data-states="UN-seated,seated">@(order.Seated ? "UN-seated" : "seated")</span></a>
                        </td>
                    </tr>    
                }
            </tbody>
        </table>
    </body>
</html>




