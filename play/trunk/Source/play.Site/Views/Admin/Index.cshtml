@model List<play.Site.Models.PlayOrder>

@{
    Layout = null;
}

<html>
    <head>
        @Scripts.Render("~/bundles/jquery")
        @Scripts.Render("~/bundles/jqueryui")
        @Scripts.Render("~/bundles/ihdavis")

        @Styles.Render("~/content/site.css")
        @Styles.Render("~/scripts/plugins/datatables/jquery-ui-1.7.2.custom.css")
        @Styles.Render("~/scripts/plugins/datatables/datatable_jui.css")
        
        @Scripts.Render("~/scripts/plugins/datatables/jquery.dataTables.min.js")

        <script>
            var markAsSeatedUrl = '/order/markasseated';
        </script>
        @Scripts.Render("~/scripts/ihdavis.admin.index.js")
    </head>
    <body class="adminIndex">
        <h2>Admin</h2>
        <table id="orders">
            <thead>
                <tr>
                    <th>Order date</th>
                    <th>Play date</th>
                    <th>Name</th>
                    <th class="centerText">Couple / Indiv. Tix</th>
                    <th>Platform</th>
                    <th class="centerText">Paid?</th>
                    <th class="centerText">Seated?</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var order in Model)
                {
                    <tr data-item-id="@order.PlayOrderId">
                        <td>@order.CreateDate.ToString("yyyy-MM-dd")</td>
                        <td>@order.PlayDate.ToString("yyyy-MM-dd")</td>
                        <th>@order.Name</th>
                        <th class="centerText">@order.CoupleTicketCount / @order.IndividualTicketCount</th>
                        <th>@order.Platform</th>
                        <td class="centerText">
                            @if (order.Status == "Paid")
                            {
                                <span class="active">✔</span>
                            }
                            else
                            {
                                <span class="inactive">✕</span>   
                            }
                        </td>
                        <td class="centerText seated">
                            @if (order.Seated)
                            {
                                <span class="active">✔</span>
                            }
                            else
                            {
                                <span class="inactive">✕</span>   
                            }
                        </td>
                        <td>
                            @if (!order.Seated)
                            {
                                <a href="#" class="markAsSeated">Mark as seated</a>
                            }
                        </td>
                    </tr>    
                }
            </tbody>
        </table>
    </body>
</html>




