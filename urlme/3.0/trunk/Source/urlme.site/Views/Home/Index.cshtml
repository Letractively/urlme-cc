@using Microsoft.AspNet.Identity
@model List<urlme.data.Models.Link>

@{
    ViewBag.Title = "Home Page";
}

@{
    var offset = Request.IsAuthenticated ? 1 : 3;
    var width = Request.IsAuthenticated ? 10 : 6;
}
<div class="row col-xs-offset-@offset col-xs-@width bottomBuffer">@*col-xs-offset-3 col-xs-6*@
    @{ Html.RenderPartial("_Header"); }
    @{ Html.RenderPartial("_LinkForm"); }
    @if (!Request.IsAuthenticated)
    {
        Html.RenderPartial("_NotLoggedIn");
    }
    else
    {
    <div class="row">
        @Html.Partial("_LoggedIn")
    </div>        
    }
</div>

@section scripts
{
    <script>
        var viewModel = ko.mapping.fromJS({
            result: '',
            message: '',
            longUrl: '',
            path: '',
            signedIn: @Request.IsAuthenticated.ToString().ToLower(),
            items: []
        });
        ko.applyBindings(viewModel);
        var dt = null; // for datatable
    </script>
    @Scripts.Render("~/scripts/ianhd/ianhd.home.index.js")
}